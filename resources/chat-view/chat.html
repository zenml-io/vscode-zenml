<!-- Copyright(c) ZenML GmbH 2024. All Rights Reserved.
Licensed under the Apache License, Version 2.0(the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at:

     http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express
or implied.See the License for the specific language governing
permissions and limitations under the License. -->
<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ZenML Chat</title>
    <link id="styles" rel="stylesheet" href="${stylesUri}">
    <link
      href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;600;700&display=swap"
      rel="stylesheet"
    />
  </head>
  <body class="font-plus-jakarta">
    <div class="container mx-auto px-4 py-8 max-w-4xl h-[95vh]">
      <h1 class="text-3xl font-bold text-center text-zenml mb-8">ZenML Chat</h1>
      <div class="flex flex-col w-full h-full">
        <div
          id="chatMessages"
          class="space-y-4 mb-4 mt-4 overflow-y-auto flex-grow"
          style="max-height: calc(100vh - 300px)"
        >
          ${chatLogHtml}
        </div>
        <div class="flex justify-center content-start">
          <div id="loader" class="mb-4 mt-4"></div>
        </div>
        <div class="bottom-0">
          <div class="mb-6">
            <div class="relative">
              <form id="chatForm" class="flex items-center rounded-t-full shadow-sm w-full">
                <textarea
                  type="text"
                  id="messageInput"
                  name="messageInput"
                  class="flex-grow p-3"
                  placeholder="Type your message..."
                ></textarea>
                <button
                  type="submit"
                  id="sendMessage"
                  class="p-2 text-zenml hover:text-purple-700 focus:outline-none"
                >
                  <svg
                    aria-label="send"
                    role="img"
                    xmlns="http://www.w3.org/2000/svg"
                    width="24"
                    height="24"
                    viewBox="0 -960 960 960"
                    class="fill-current"
                  >
                    <path d="M120-160v-240l320-80-320-80v-240l760 320-760 320Z"></path>
                  </svg>
                </button>
              </form>
              <div class="chatbar-options">
                <div class="model-dropdown">${providerDropdownHtml}</div>
                <div class="model-dropdown">${modelDropdownHtml}</div>
                <div class="relative">
                  <button
                    id="contextButton"
                    class="context-button"
                    title="Send ZenML context with message"
                  >
                    Context
                  </button>
                  <div id="optionsDropdown" class="context-dropdown">
                    <div id="tree-view" class="tree-view">${treeItemHtml}</div>
                  </div>
                </div>
                <div class="relative">
                  <button id="clearChat" class="context-button">Clear Chat</button>
                </div>
              </div>
            </div>
          </div>
          <div id="sampleQuestions" class="flex flex-col space-y-4 mb-4 mt-4">
            <div class="md:col-span-3 md:col-start-2 md:flex md:justify-center">
              <div class="w-full px-6 md:grid md:grid-cols-3 space-y-2 md:space-y-0">
                <div class="flex flex-row items-center">
                  <div
                    class="rounded-lg bg-card text-card-foreground md:h-auto grow text-sm overflow-hidden dark:bg-transparent dark:hover:bg-shallow hover:cursor-pointer border md:border-none shadow-sm md:shadow-none"
                  >
                    <div class="px-4 md:text-center">
                      <button class="sampleQuestions" id="aboutChat" value="aboutChat">
                        What can this chat do?
                      </button>
                    </div>
                  </div>
                  <svg
                    width="15"
                    height="15"
                    viewBox="0 0 15 15"
                    fill="none"
                    xmlns="http://www.w3.org/2000/svg"
                    class="hidden md:block size-6 text-gray"
                  >
                    <path
                      d="M7.5 2C7.77614 2 8 2.22386 8 2.5L8 12.5C8 12.7761 7.77614 13 7.5 13C7.22386 13 7 12.7761 7 12.5L7 2.5C7 2.22386 7.22386 2 7.5 2Z"
                      fill="currentColor"
                      fill-rule="evenodd"
                      clip-rule="evenodd"
                    ></path>
                  </svg>
                </div>
                <div class="flex flex-row items-center">
                  <div
                    class="rounded-lg bg-card text-card-foreground md:h-auto grow text-sm overflow-hidden dark:bg-transparent dark:hover:bg-shallow hover:cursor-pointer border md:border-none shadow-sm md:shadow-none"
                  >
                    <div class="px-4 md:text-center">
                      <button class="sampleQuestions" id="summarizeStats" value="summarizeStats">
                        Summarize my stats
                      </button>
                    </div>
                  </div>
                  <svg
                    width="15"
                    height="15"
                    viewBox="0 0 15 15"
                    fill="none"
                    xmlns="http://www.w3.org/2000/svg"
                    class="hidden md:block size-6 text-gray"
                  >
                    <path
                      d="M7.5 2C7.77614 2 8 2.22386 8 2.5L8 12.5C8 12.7761 7.77614 13 7.5 13C7.22386 13 7 12.7761 7 12.5L7 2.5C7 2.22386 7.22386 2 7.5 2Z"
                      fill="currentColor"
                      fill-rule="evenodd"
                      clip-rule="evenodd"
                    ></path>
                  </svg>
                </div>
                <div class="flex flex-row items-center">
                  <div
                    class="rounded-lg bg-card text-card-foreground md:h-auto grow text-sm overflow-hidden dark:bg-transparent dark:hover:bg-shallow hover:cursor-pointer border md:border-none shadow-sm md:shadow-none"
                  >
                    <div class="px-4 md:text-center">
                      <button class="sampleQuestions" id="summarizeLogs" value="summarizeLogs">
                        Summarize my logs
                      </button>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <!-- <script src="${tailwindUri}"></script> -->
    <script src="${markedUri}"></script>
    <script src="${purifyUri}"></script>
    <script src="${jsUri}"></script>
    <!-- <script>
      tailwind.config = {
        theme: {
          extend: {
            colors: {
              zenml: '#7a3ef8',
              gray: '#e7e5e4',
              mutedText: '#707070',
            },
            fontFamily: {
              'plus-jakarta': ['"Plus Jakarta Sans"', 'sans-serif'],
            },
          },
        },
      };
    </script> -->
  </body>
</html>
