<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ZenML Chat</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;600;700&display=swap" rel="stylesheet">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        zenml: '#7a3ef8',
                    },
                    fontFamily: {
                        'plus-jakarta': ['"Plus Jakarta Sans"', 'sans-serif'],
                    },
                },
            },
        }
    </script>
    <style>
      p {
        color: black;
      }
      #messageInput {
        color: black;
      }
      form {
        display: contents;
      }
   </style>
</head>
<body class="bg-white font-plus-jakarta">
  <div class="container mx-auto px-4 py-8 max-w-4xl">
      <h1 class="text-3xl font-bold text-center text-zenml mb-8">ZenML Chat</h1>
      
      <div class="flex mb-6">
          <div class="w-1/4 pr-4">
              <div class="bg-white shadow-md rounded-lg p-4">
                  <h2 class="text-lg font-semibold mb-4 text-zenml">Options</h2>
                  <ul class="space-y-2">
                      <li><a href="#" class="text-gray-700 hover:text-zenml">Stack</a></li>
                      <li><a href="#" class="text-gray-700 hover:text-zenml">Component</a></li>
                      <li><a href="#" class="text-gray-700 hover:text-zenml">Pipeline</a></li>
                      <li><a href="#" class="text-gray-700 hover:text-zenml">Server</a></li>
                      <li><a href="#" class="text-gray-700 hover:text-zenml">Environment</a></li>
                  </ul>
              </div>
          </div>
          <div class="w-3/4">
            <div class="flex items-center mb-4">
              <form id="chatForm">
                <input type="text" id="messageInput" name="messageInput" class="flex-grow mr-2 p-3 border border-gray-300 rounded-full focus:outline-none focus:ring-2 focus:ring-zenml focus:border-transparent" placeholder="Type your message...">
                <button id="sendMessage" class="bg-zenml text-white px-6 py-3 rounded-full hover:bg-purple-700 transition duration-300">Send</button>
              </form>
            </div>
            
            <div id="chatMessages" class="space-y-4">
              ${chatLogHtml}
            </div>
          </div>
      </div>
  </div>
  <script src="${jsUri}"></script>
  <!-- <script>
    document.addEventListener('DOMContentLoaded', function() {
      const contextButton = document.getElementById('contextButton');
      const contextOptions = document.getElementById('tree-view');
      const dropup = document.querySelector('.dropup');
      const plus = contextButton.querySelector('svg')

      contextButton.addEventListener('click', function(event) {
        event.stopPropagation();
        contextOptions.classList.toggle('hide');
      });

      contextOptions.addEventListener('click', function(event) {
        event.stopPropagation();
      });
    });
  </script> -->
  <!-- <script>
    const treeData = [
      {name: 'Server'},
      {name: 'Environment'},
      {
        name: 'Pipeline',
        children : [
          {
            name: 'training',
            children: [
              {name: 'id: 85439137'},
              {name: 'completed: success'}
            ]
          }
        ]
      },
      {name: 'Stack'},
      {name: 'Stack Components'}
    ];

    function createTreeView(items, parentEl, level = 0) {
      items.forEach(item => {
        const itemEl = document.createElement('div');
        itemEl.className = 'tree-item';
        itemEl.style.paddingLeft = `${level * 12}px`;

        const wrapperEl = document.createElement('div');
        wrapperEl.className = 'tree-item-wrapper';

        const contentEl = document.createElement('div');
        contentEl.className = 'tree-item-content';

        const checkboxEl = document.createElement('input');
        checkboxEl.type = 'checkbox';
        checkboxEl.className = 'tree-item-checkbox';

        const chevronEl = document.createElement('span');
        chevronEl.className = 'tree-item-icon';
        
        const isFolder = item.children && item.children.length > 0;
        
        chevronEl.innerHTML = isFolder
          ? '<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="#808080" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="m9 18 6-6-6-6"/></svg>'
          : '<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="#808080" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M0 0h24v24H0z" fill="none" stroke="none"/></svg>';

        const nameEl = document.createElement('span');
        nameEl.className = 'tree-item-name';
        nameEl.textContent = item.name;

        if (level < 2) {
          contentEl.appendChild(checkboxEl);
        }
        contentEl.appendChild(chevronEl);
        contentEl.appendChild(nameEl);
        wrapperEl.appendChild(contentEl);

        if (isFolder) {
          const childrenEl = document.createElement('div');
          childrenEl.className = 'tree-item-children';
          createTreeView(item.children, childrenEl, level + 1);

          contentEl.addEventListener('click', (e) => {
            if (e.target !== checkboxEl && !childrenEl.contains(e.target)) {
              e.stopPropagation();
              childrenEl.classList.toggle('open');
              if (childrenEl.classList.contains('open')) {
                  chevronEl.innerHTML = '<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="#808080" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="m6 9 6 6 6-6"/></svg>';
              } else {
                  chevronEl.innerHTML = '<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="#808080" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="m9 18 6-6-6-6"/></svg>';
              }
            }
          });

          wrapperEl.appendChild(childrenEl);
        }

        checkboxEl.addEventListener('click', (e) => {
          e.stopPropagation();
        });

        checkboxEl.addEventListener('change', (e) => {
          if (e.target.checked) {
            itemEl.style.backgroundColor = '#2a2d2e';
          } else {
            itemEl.style.backgroundColor = '';
          }
        });

        itemEl.appendChild(wrapperEl);
        parentEl.appendChild(itemEl);
      });
    }

    const treeViewEl = document.getElementById('tree-view');
    createTreeView(treeData, treeViewEl);
  </script> -->
</body>
</html>
